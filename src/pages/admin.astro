---
import GlobalLayout from "../layouts/GlobalLayout.astro";
import PageHeader from "../components/PageHeader.astro";
import Section from "../components/Section.astro";
import ConnectionForm from "../components/ConnectionForm.astro";
import AdminView from "../components/AdminView.astro";

import { isValidCookie } from "../utils/cookie";

const token = Astro.cookies.get("token")?.value ?? "";
---

<GlobalLayout title="Administration">
  <PageHeader>Admin</PageHeader>
  <main>
    <Section>This is the admin page :D</Section>
    {!isValidCookie(token) ? <ConnectionForm /> : <AdminView />}
  </main>
</GlobalLayout>
