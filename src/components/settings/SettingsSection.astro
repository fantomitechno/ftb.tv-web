---
import type { Settings } from "@prisma/client";
import Section from "../Section.astro";
import SettingsView from "./SettingsView.astro";

interface Props {
  settings: Settings | null;
}

const { settings } = Astro.props;
---

<Section title="Settings">
  <a href="/admin">back to admin</a>
</Section>
{
  !settings ? (
    <button hx-post={`/api/settings`} hx-swap="outerHTML">
      Init channel
    </button>
  ) : (
    <SettingsView settings={settings} />
  )
}
